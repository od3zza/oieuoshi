<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pt" lang="pt-BR">

<head>
  <meta charset="utf-8" />

  <title>Como criei um campo de coment√°rios para meu Blog - Misc - Uoshi</title>

  <meta name="author" content="Uoshi" />
  <meta name="description"
    content="Como criei um campo personalizado de coment√°rios para meu blog com HTML, CSS, JS e usando Supabase como base de dados." />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="alternate" type="application/rss+xml" href="/sitemap.xml" />

  <!-- Manifest .json-->
  <link rel="manifest" href="/manifest.json" />

  <!-- Libs -->
  <link rel="stylesheet" href="/lib/style.css" type="text/css" media="screen, projection" />
  <script src="/lib/script.js" defer></script>

  <!-- Theme Color - https://goo.gl/qRE0vM -->
  <meta name="theme-color" content="#ffffff" />

  <!-- √çcone-->
  <link rel="icon" type="image/png"
    href="https://cdn.glitch.global/5d620f50-0e74-4257-aa4d-114f5d987ec5/favicon.png?v=1727965698348" />

  <!-- Abre Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G9WRTPFVLD"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-G9WRTPFVLD");
  </script>
  <!-- Fecha Google tag (gtag.js) -->

  <!-- SSL Protocol Config -->
  <script>
    if (location.protocol != "https:") {
      location.href =
        "https:" +
        window.location.href.substring(window.location.protocol.length);
    }
  </script>
  <meta name="p:domain_verify" content="fd7d215910ea0cf1c785c7c7cf7a7c0f" />
  <!-- End SSL Protocol Config -->
</head>

<!--
          )      (\_
         ((    _/{  "-;
          )).-' {{ ;'`
HEY U!   ( (  ;._ \\      -->

<body>
  <!-- Abre Header -->
  <!-- sidebar esquerdo -->
  <div class="container"></div>
  <header class="sidebar">
    <div class="sidebar-text">
      <nav class="sections">
        <ul>
          <a href="/blog">‚Üê blog</a>
        </ul>
      </nav>
    </div>
  </header>
  <!-- end sidebar -->

  <!-- Fecha Header -->

  <!-- Abre base -->
  <section class="main">
    <sub> Junho, 2025 </sub>
    <!-- t√≠tulo -->
    <h1>Como criei um campo de coment√°rios para meu Blog</h1>
    <br />
    <sub> misc üóÇÔ∏è</sub>
    <br /><br />

    <!-- conte√∫do -->

    <p>H√° bastante tempo venho tentando criar uma ‚Äúsimples‚Äù caixa de coment√°rios para os posts do blog. O que parecia
      ser
      uma tarefa f√°cil acabou se tornando uma das maiores desventuras que j√° enfrentei como <i>coder</i> amador. Passei
      horas pesquisando poss√≠veis solu√ß√µes e, na maioria das vezes, encontrava artigos e tutoriais que recomendavam o
      uso
      de servi√ßos de terceiros, como Disqus ou o pr√≥prio Github. No entanto, como desenvolvi este site do zero, codando
      linha por linha, minha inten√ß√£o sempre foi depender cada vez menos de plataformas externas, que acabam se tornando
      quase ‚Äúpropriet√°rias‚Äù do conte√∫do que publico.</p>

    <p>Buscando alternativas menos convencionais (e mais desafiadoras), encontrei alguns caminhos interessantes. Percebi
      que criar a caixa de coment√°rios em si n√£o era o maior obst√°culo, mas sim encontrar uma forma de armazenar os
      coment√°rios em um servidor pr√≥prio. Testei solu√ß√µes como Firebase, Google Script e v√°rias outras, mas falhei
      miseravelmente em todas. At√© conseguia enviar o coment√°rio para o banco de dados, mas ele nunca retornava
      corretamente. Foi ent√£o que, com um bom <i>prompt</i> e muita paci√™ncia, recorri ao Gemini e ao Claude para
      explorar
      possibilidades e validar, com calma, as melhores op√ß√µes entre as LLMs.</p>

    <p>No fim, encontrei uma solu√ß√£o. Talvez n√£o seja a ideal, mas funcionou. Basicamente, criei um formul√°rio de
      coment√°rios usando HTML, CSS e JS, e utilizei o Supabase como banco de dados. No Supabase, consegui armazenar e
      organizar os
      coment√°rios pelo <i>slug</i> da URL, permitindo que cada post do blog tenha sua pr√≥pria √°rea de
      coment√°rios. Como tudo o que fa√ßo nasce da curiosidade <i>rs</i>, gosto de compartilhar o que aprendo. Por isso,
      deixo aqui o caminho que trilhei para criar essa funcionalidade ‚Äî quem sabe pode ser √∫til para voc√™ tamb√©m.</p>

    <h2>Qual √© a pira?</h2>

    <p>O primeiro passo √© configurar o <a href="https://supabase.com/">Supabase</a>. A vers√£o gratuita √© mais do que
      suficiente
      para um projeto como esse, pois a ideia √© apenas armazenar conte√∫dos de texto. Em seguida, a cria√ß√£o do
      <i>JavaScript</i>,
      que para mim foi bem pagado, mas rolou. E ent√£o, o HTML e o CSS, que foram os mais tranquilos de fazer.
    </p>

    <h3>Configurar o Supabase</h3>
    <p>No Supabase, criei uma conta gratuita e ent√£o um "new project". Escolhi um nome simples (voc√™ pode colocar o que
      preferir),
      criei uma senha e escolhi a regi√£o de S√£o Paula, que √© a √∫nica do Brasil.
    </p>
    <p>No painel esquerdo, em "Table Editor", fui at√© "Create a new table", nomeei como "comentarios" e desmarquei
      "Enable row level security".
      E ent√£o adicionei as seguintes colunas: "id" (j√° vem criada), "post_slug" (text), "nome" (text), "link" (text),
      "comentario" (text) e "created_at" (j√° vem criada). Salvei.
    </p>
    <p>Em "Authentication" > "Polices", criei duas pol√≠ticas: "Enable read acess for all user", que j√° vinha previamente
      configurada
      e "Enable insert acess for all user", a qual tive que criar manualmente. Depois fui em "Settings" > "Data API" e
      peguei a URL do projeto, algo como: https://xxxxxxxxx.supabase.co e depois em "API Keys" e peguei a chave p√∫blica.
    </p>

    <h3>Apenas o HTML</h3>
    <p>O HTML tentei manter o mais simples poss√≠vel:</p>


    <code>
<section class="comments-section">

  <div class="comments-form">
    <h3>Deixe seu coment√°rio</h3>
    <div id="message-area"></div>
    <form id="comment-form">
      <div class="form-group">
        <label for="nome">Nome *</label>
        <input type="text" id="nome" name="nome" required>
      </div>

      <div class="form-group">
        <label for="link">Website/Link (opcional)</label>
        <input type="url" id="link" name="link" placeholder="https://exemplo.com">
      </div>

      <div class="form-group">
        <label for="comentario">Coment√°rio *</label>
        <textarea id="comentario" name="comentario" required
          placeholder="Escreva seu coment√°rio aqui..."></textarea>
      </div>
      <button type="submit" class="btn-submit">Enviar Coment√°rio</button>
    </form>
  </div>

  <div class="comments-list">
    <h3>Coment√°rios</h3>
    <div id="comments-container">
      <div class="loading">Carregando coment√°rios...</div>
    </div>
  </div>
</section>
</textarea>

<textarea readonly id="js-code-example" rows="20" cols="80">
// Configura√ß√£o do Supabase - SUBSTITUA PELOS SEUS DADOS!
const SUPABASE_URL = 'SUA_URL_DO_SUPABASE_AQUI';
const SUPABASE_ANON_KEY = 'SUA_CHAVE_ANON_AQUI';

// Fun√ß√£o para obter o slug do post atual
function getPostSlug() {
  // Voc√™ pode personalizar isso baseado na estrutura das suas URLs
  const path = window.location.pathname;
  return path.replace(/^\//, '').replace(/\/$/, '') || 'home';
}

// ... (resto do seu c√≥digo JavaScript aqui) ...

</code>

  
     <p>
      Ent√£o fiz um CSS minimalista, apenas para organizar os elementos e deixar menos feio.
    </p>

    <h3>E O JS?</h3>
    <p>Por fim, o JavaScript, gerado com a ajuda do Claude, pois eu me perdia o tempo todo:</p>
   # 
    <h3>E ent√£o...</h3>
    <p>
      Supabase configura e c√≥digos criados, adicionei tudo em uma p√°gina teste chamada "latest-post.html" e rezei para
      dar certo. O teste
      foi melhor do que eu esperava! Os coment√°rios foram salvos e carregados corretamente, e o formul√°rio funcionou
      como deveria.
      Agora, cada post do blog pode ter seus pr√≥prios coment√°rios, organizados pelo <i>slug</i> da URL. √â uma solu√ß√£o
      simples,
      mas que atende √†s minhas necessidades e me permite ter controle total sobre os dados.
    </p>

    <p>Por fim, gerei um Python para me ajudar a adicionar o c√≥digo do campo de coment√°rios nos HTMLs que faziam parte
      do blog.
      Eu gosto muito de usar Python para essas tarefas, sei que √© um modo ainda meio <i>noob</i> de aproveitar essa
      linguagem, mas
      √© aos poucos que vamos aprendendo, certo?
#</p>

    <hr />

    <hr /> <!-- Sistema de Coment√°rios -->
    <section class="comments-section">
      <!-- Formul√°rio de coment√°rios -->
      <div class="comments-form">
        <h3>Deixe seu coment√°rio</h3>
        <div id="message-area"></div>
        <form id="comment-form">
          <div class="form-group">
            <label for="nome">Nome *</label>
            <input type="text" id="nome" name="nome" required>
          </div>
          <div class="form-group">
            <label for="link">Website/Link (opcional)</label>
            <input type="url" id="link" name="link" placeholder="https://exemplo.com">
          </div>
          <div class="form-group">
            <label for="comentario">Coment√°rio *</label>
            <textarea id="comentario" name="comentario" required
              placeholder="Escreva seu coment√°rio aqui..."></textarea>
          </div>
          <button type="submit" class="btn-submit">Enviar Coment√°rio</button>
        </form>
      </div>
      <!-- Lista de coment√°rios -->
      <div class="comments-list">
        <h3>Coment√°rios</h3>
        <div id="comments-container">
          <div class="loading">Carregando coment√°rios...</div>
        </div>
      </div>
    </section>

  </section>
  <hr />

  <section class="footer"></section>
</body>

</html>
